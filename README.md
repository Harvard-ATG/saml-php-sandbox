# saml-php-sandbox

Sandbox for testing SAML with PHP

## Quickstart

1. Start vagrant: `vagrant up`
2. Configure `/etc/hosts`:
    - `127.0.0.1	localhost idp.saml.localhost sp.saml.localhost saml.localhost`
3. Ensure nginx is running: `vagrant ssh -c "sudo service nginx start"`
4. Test servers:
    - Phpinfo: http://saml.localhost:8080/app/phpinfo.php
    - idP: http://idp.saml.localhost:8080/app/index.php
    - idProxy: http://idproxy.saml.localhost:8080/app/index.php
    - SP: http://sp.saml.localhost:8080/app/index.php
5. Access **idP** pages:
    - Front page: http://idp.saml.localhost:8080/simplesaml/module.php/core/frontpage_welcome.php
	- Metadata: http://idp.saml.localhost:8080/simplesaml/saml2/idp/metadata.php
6. Access **SP** protected page which should redirect to login with **idP**:
	- http://sp.saml.localhost:8080/app/protected.php

## Proxy Scenario

This sandbox is used to test a scenario where a **SP** will authenticate with the **idProxy** which will then authenticate with the **idP**. From the POV of the **SP**, the identity provider is the **idProxy**.

The motivation for this scenario is the assumption that we have a number of **SP** instances that need to be created/destroyed on demand, but we do not control the  **idP**. Due to the fact that there's no automated way to synchronize our **SP** instances with the **idP** (i.e. exchange metadata), this step will introduce a manual step in the process with an inherent delay (turnaround could be hours or days).

However, if we setup our own identity provider that acts as a proxy between the service providers and the primary identity provider, then we can automate the synchronization between the service providers and the proxy, and do a one-time sync with the primary identity provider.

The flow in this scenario will look like this:

```plaintext
   Client --> SP --> idProxy --> idP
```

## Configuring SimpleSAMLPHP

Note: you can define `RelayState` in the SP configuration via `authsources.php` which will instruct it where to redirect after authentication.

### Configuring the Service Provider

Important files:

1. `config/authsources.php`
    - Defines an authentication source. For a service provider, this defines it as an entity that can authenticate against a named identity provider.
2. `metadata/saml20-idp-remote.php`
    - Describes the identity provider referenced in the authentication source with information about the login/logout endpoints and the certificate fingerprint.

Example `config/authsources.php`:

```php
<?php
$config = array(
    'admin' => array('core:AdminPassword'),

    // An authentication source which can authenticate
    // against both SAML 2.0 and Shibboleth 1.3 IdPs.
    'default-sp' => array(
        'saml:SP',
        'privatekey' => 'saml.pem',
        'certificate' => 'saml.crt',
        'entityID' => 'http://sp.saml.localhost:8080',
        'idp' => 'http://idp.saml.localhost:8080/simplesaml/saml2/idp/metadata.php',
        'discoURL' => null,
    )
);
```

Once those two files are configured, you need to **exchange metadata with the idP**, which will instruct the idP on how to communicate or connect with the service provider. It will provide it with information about the logout endpoint and the assertion service that validates the idP's message.

The SP's metadata can be obtained via the **Federation** tab on the installation page.

### Configuring the Identity Provider proxy

1. In order to establish itself as an identity provider (idP), modify `config/config.php` and set `'enable.saml20-idp' => true`.
2. In order to establish itself as a service provider (SP), modify `config/authsources.php` and add a `saml:SP` entry that points to the backend identity provider.
3. As an idP, configure the SPs in  `metadata/saml20-sp-remote.php`.
4. As an idP, configure the auth source in `metadata/saml20-idp-hosted.php` which in turn will be the SP defined in `config/authsources.php`.
5. As a SP, configure the idP in `metadata/saml20-idp-remote.php`.

### Configuring the Identity Provider

1. The IdP is configured by the metadata stored in `metadata/saml20-idp-hosted.php`.
2. The identity provider you are configuring needs to know about the service providers you are going to connect to it. This is configured by metadata stored in `metadata/saml20-sp-remote.php`.
3. The method for adding this IdP to a SP varies between different types of SPs. In general, most SPs need some metadata from the IdP. This should be available from `/saml2/idp/metadata.php`.


## Example HTTP Traffic for Proxy Authentication

```
http://sp.saml.localhost:8080/app/protected.php

GET http://sp.saml.localhost:8080/app/protected.php
Upgrade-Insecure-Requests: 1
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8

HTTP/1.1 302 Moved Temporarily
 Redirect to: http://idproxy.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJLb6MwEP4ryHeCIQ1QK4mUNqo2Uh9RSfewl5Ux08aSsVnP0Me%2Fr4G2ai%2FZiy3NzPeYT7NE2ZpObHo62nv41wNS9Noai2JsrFjvrXASNQorW0BBSlSbm2uRzbjovCOnnGHfIKcREhE8aWdZtNuu2N%2BiKbK54rxIs7Lmc0jzs7I4q2WZ58VivshzqOfni1qpjEW%2FwWNArlggCnDEHnYWSVoKJZ7mcZrGKT9kXPBSZPkfFm3DNtpKGlFHok4kiW6C69e32eB1ZpyS5uiQRMlLnqBuOwNDJxmebBhOququAv%2BsFcy6Y8eizecKl85i34L%2F6D7cX3%2BJYPc%2F%2FtY1vRkZk0lv%2BrNYKhyrDTzK3lCMQXL%2FkfOFto22T6cjrqchFL8Oh328v6sObL0cuMUYmV%2Bf9LhMvo8up%2Bu4DSK77d4Zrd6iK%2BdbSac9DBXdxI%2FjqCAvLWqwFMIzxr1cepAEK0a%2BB5asJ8mfN7h%2BBw%3D%3D&RelayState=http%3A%2F%2Fsp.saml.localhost%3A8080%2Fapp%2Fprotected.php
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=82c48a078615622c8946d22b2a5e8189; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Location: http://idproxy.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJLb6MwEP4ryHeCIQ1QK4mUNqo2Uh9RSfewl5Ux08aSsVnP0Me%2Fr4G2ai%2FZiy3NzPeYT7NE2ZpObHo62nv41wNS9Noai2JsrFjvrXASNQorW0BBSlSbm2uRzbjovCOnnGHfIKcREhE8aWdZtNuu2N%2BiKbK54rxIs7Lmc0jzs7I4q2WZ58VivshzqOfni1qpjEW%2FwWNArlggCnDEHnYWSVoKJZ7mcZrGKT9kXPBSZPkfFm3DNtpKGlFHok4kiW6C69e32eB1ZpyS5uiQRMlLnqBuOwNDJxmebBhOququAv%2BsFcy6Y8eizecKl85i34L%2F6D7cX3%2BJYPc%2F%2FtY1vRkZk0lv%2BrNYKhyrDTzK3lCMQXL%2FkfOFto22T6cjrqchFL8Oh328v6sObL0cuMUYmV%2Bf9LhMvo8up%2Bu4DSK77d4Zrd6iK%2BdbSac9DBXdxI%2FjqCAvLWqwFMIzxr1cepAEK0a%2BB5asJ8mfN7h%2BBw%3D%3D&RelayState=http%3A%2F%2Fsp.saml.localhost%3A8080%2Fapp%2Fprotected.php
Pragma: no-cache
Cache-Control: no-cache, must-revalidate

GET http://idproxy.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJLb6MwEP4ryHeCIQ1QK4mUNqo2Uh9RSfewl5Ux08aSsVnP0Me%2Fr4G2ai%2FZiy3NzPeYT7NE2ZpObHo62nv41wNS9Noai2JsrFjvrXASNQorW0BBSlSbm2uRzbjovCOnnGHfIKcREhE8aWdZtNuu2N%2BiKbK54rxIs7Lmc0jzs7I4q2WZ58VivshzqOfni1qpjEW%2FwWNArlggCnDEHnYWSVoKJZ7mcZrGKT9kXPBSZPkfFm3DNtpKGlFHok4kiW6C69e32eB1ZpyS5uiQRMlLnqBuOwNDJxmebBhOququAv%2BsFcy6Y8eizecKl85i34L%2F6D7cX3%2BJYPc%2F%2FtY1vRkZk0lv%2BrNYKhyrDTzK3lCMQXL%2FkfOFto22T6cjrqchFL8Oh328v6sObL0cuMUYmV%2Bf9LhMvo8up%2Bu4DSK77d4Zrd6iK%2BdbSac9DBXdxI%2FjqCAvLWqwFMIzxr1cepAEK0a%2BB5asJ8mfN7h%2BBw%3D%3D&RelayState=http%3A%2F%2Fsp.saml.localhost%3A8080%2Fapp%2Fprotected.php
Upgrade-Insecure-Requests: 1
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8

HTTP/1.1 302 Moved Temporarily
 Redirect to: http://idp.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJbT8IwFP4rS99HS5UxGiBBiZFEhTD0wRdTuk6adO3s6VT%2BvbswgtHAy5p953yXnp4x8FwXbFb6nVnLj1KCD75zbYA1hQkqnWGWgwJmeC6BecGS2eMDoz3CCme9FVajE8p5BgeQzitrULCYT9Db8Cob8QElXEbb4SgakYEYiiij2%2Fg6o8OtyEbxIOWC8msUvEgHFXOCKqGKDlDKhQHPja8g0o%2FCfj%2Fskw0ljMSMRq8omFe3UYb7hrXzvmAYq7To1Tl72gqudxY8i0lMMKi80LKu4PpD60acJMtEuk8lZK%2FYFSiYdfFvrYEyl%2B5QfV4%2FnBo4%2B72%2FZJLbtNSNLG5N25OGXMARDRspFKwOg75RJlXm%2FfyMt20TsPvNZhWulskGTce1Gmtm5qaXg47xaf%2B43ZGnymkxX1mtxD64sy7n%2FnyQGlFpmDWtzDtuQEnjqzFqbb9uneReTpB3pUS4M0mELarw3e9hJaVbzLvY8O%2F7tYl%2FEzrsqIn%2FLvv0Bw%3D%3D
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=162c322ac2009657aa840c622002be51; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Location: http://idp.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJbT8IwFP4rS99HS5UxGiBBiZFEhTD0wRdTuk6adO3s6VT%2BvbswgtHAy5p953yXnp4x8FwXbFb6nVnLj1KCD75zbYA1hQkqnWGWgwJmeC6BecGS2eMDoz3CCme9FVajE8p5BgeQzitrULCYT9Db8Cob8QElXEbb4SgakYEYiiij2%2Fg6o8OtyEbxIOWC8msUvEgHFXOCKqGKDlDKhQHPja8g0o%2FCfj%2Fskw0ljMSMRq8omFe3UYb7hrXzvmAYq7To1Tl72gqudxY8i0lMMKi80LKu4PpD60acJMtEuk8lZK%2FYFSiYdfFvrYEyl%2B5QfV4%2FnBo4%2B72%2FZJLbtNSNLG5N25OGXMARDRspFKwOg75RJlXm%2FfyMt20TsPvNZhWulskGTce1Gmtm5qaXg47xaf%2B43ZGnymkxX1mtxD64sy7n%2FnyQGlFpmDWtzDtuQEnjqzFqbb9uneReTpB3pUS4M0mELarw3e9hJaVbzLvY8O%2F7tYl%2FEzrsqIn%2FLvv0Bw%3D%3D
Pragma: no-cache
Cache-Control: no-cache, must-revalidate

GET http://idp.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?SAMLRequest=hVJbT8IwFP4rS99HS5UxGiBBiZFEhTD0wRdTuk6adO3s6VT%2BvbswgtHAy5p953yXnp4x8FwXbFb6nVnLj1KCD75zbYA1hQkqnWGWgwJmeC6BecGS2eMDoz3CCme9FVajE8p5BgeQzitrULCYT9Db8Cob8QElXEbb4SgakYEYiiij2%2Fg6o8OtyEbxIOWC8msUvEgHFXOCKqGKDlDKhQHPja8g0o%2FCfj%2Fskw0ljMSMRq8omFe3UYb7hrXzvmAYq7To1Tl72gqudxY8i0lMMKi80LKu4PpD60acJMtEuk8lZK%2FYFSiYdfFvrYEyl%2B5QfV4%2FnBo4%2B72%2FZJLbtNSNLG5N25OGXMARDRspFKwOg75RJlXm%2FfyMt20TsPvNZhWulskGTce1Gmtm5qaXg47xaf%2B43ZGnymkxX1mtxD64sy7n%2FnyQGlFpmDWtzDtuQEnjqzFqbb9uneReTpB3pUS4M0mELarw3e9hJaVbzLvY8O%2F7tYl%2FEzrsqIn%2FLvv0Bw%3D%3D
Upgrade-Insecure-Requests: 1
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8

HTTP/1.1 302 Moved Temporarily
 Redirect to: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Location: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Pragma: no-cache
Cache-Control: no-cache, must-revalidate

GET http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Upgrade-Insecure-Requests: 1
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
X-Frame-Options: SAMEORIGIN
Content-Encoding: gzip
http://idp.saml.localhost:8080/simplesaml/resources/script.js

GET http://idp.saml.localhost:8080/simplesaml/resources/script.js
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Accept: */*
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: application/x-javascript
Content-Length: 754
Last-Modified: Tue, 23 Aug 2016 11:02:33 GMT
Connection: keep-alive
Accept-Ranges: bytes
http://idp.saml.localhost:8080/simplesaml/resources/default.css

GET http://idp.saml.localhost:8080/simplesaml/resources/default.css
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Accept: text/css,*/*;q=0.1
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: text/css
Content-Length: 7088
Last-Modified: Tue, 23 Aug 2016 11:02:33 GMT
Connection: keep-alive
Accept-Ranges: bytes
http://idp.saml.localhost:8080/simplesaml/resources/icons/experience/gtk-dialog-authentication.48x48.png

GET http://idp.saml.localhost:8080/simplesaml/resources/icons/experience/gtk-dialog-authentication.48x48.png
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Accept: image/webp,image/*,*/*;q=0.8
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: image/png
Content-Length: 3518
Last-Modified: Tue, 23 Aug 2016 11:02:33 GMT
Connection: keep-alive
Accept-Ranges: bytes
http://idp.saml.localhost:8080/simplesaml/resources/icons/ssplogo-fish-small.png

GET http://idp.saml.localhost:8080/simplesaml/resources/icons/ssplogo-fish-small.png
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Accept: image/webp,image/*,*/*;q=0.8
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: image/png
Content-Length: 3012
Last-Modified: Tue, 23 Aug 2016 11:02:33 GMT
Connection: keep-alive
Accept-Ranges: bytes
http://idp.saml.localhost:8080/simplesaml/resources/header-bkg.png

GET http://idp.saml.localhost:8080/simplesaml/resources/header-bkg.png
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Accept: image/webp,image/*,*/*;q=0.8
Referer: http://idp.saml.localhost:8080/simplesaml/resources/default.css
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:26 GMT
Content-Type: image/png
Content-Length: 1216
Last-Modified: Tue, 23 Aug 2016 11:02:33 GMT
Connection: keep-alive
Accept-Ranges: bytes
http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?
AuthState: _0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f:http://idp.saml.localhost:8080/simplesaml/saml2/idp/SSOService.php?spentityid=http%3A%2F%2Fidproxy.saml.localhost%3A8080&cookieTime=1478808506
password: foo
username: student

POST http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?
Origin: http://idp.saml.localhost:8080
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Content-Type: application/x-www-form-urlencoded
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?AuthState=_0fea9a5e77d55e6681e1fa551ce8383460b0d6cd6f%3Ahttp%3A%2F%2Fidp.saml.localhost%3A8080%2Fsimplesaml%2Fsaml2%2Fidp%2FSSOService.php%3Fspentityid%3Dhttp%253A%252F%252Fidproxy.saml.localhost%253A8080%26cookieTime%3D1478808506
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:31 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=dfe8052dc9c4922e44cadb674776433d; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Set-Cookie: SimpleSAMLAuthToken=_fa6aa3e9620e47f718ea4bbff30ab0905a9477dbfd; path=/; httponly
Content-Encoding: gzip
http://idproxy.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/saml-proxy
SAMLResponse: PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIHhtbG5zOnNhbWw9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iIElEPSJfNmJiM2FjMWM4Y2RkNTFlM2NhODYzMmIzYTVkM2EwOGYyYjZiYWQ5ZmZjIiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxNi0xMS0xMFQyMDowODozMVoiIERlc3RpbmF0aW9uPSJodHRwOi8vaWRwcm94eS5zYW1sLmxvY2FsaG9zdDo4MDgwL3NpbXBsZXNhbWwvbW9kdWxlLnBocC9zYW1sL3NwL3NhbWwyLWFjcy5waHAvc2FtbC1wcm94eSIgSW5SZXNwb25zZVRvPSJfNzNmOWE1MjBhZTZiNzk2OTA1YzdjNmYyYjg0ZjI3YmNmOTg1ZGFjMmE0Ij48c2FtbDpJc3N1ZXI+aHR0cDovL2lkcC5zYW1sLmxvY2FsaG9zdDo4MDgwL3NpbXBsZXNhbWwvc2FtbDIvaWRwL21ldGFkYXRhLnBocDwvc2FtbDpJc3N1ZXI+PGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgPGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz4KICAgIDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz4KICA8ZHM6UmVmZXJlbmNlIFVSST0iI182YmIzYWMxYzhjZGQ1MWUzY2E4NjMyYjNhNWQzYTA4ZjJiNmJhZDlmZmMiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIvPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPnE2dExRQWRLMkFtY3ZpUHdkbERXWUh0Q0RxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWU+cFZXcThNV2tqWGc2bXdvZHBabTFDUlZmeTBXSEprZFZwV0RCNzhUNjFoOXU4MWFVQUJoYU16b3FNRDllWEZkeWczSzZnVUpodzlUbjMzSzQxVUpieXMvUzNDaUJEZEkvVjdnRUpvR0FrVWNpaWNnSGszcEJVaEF5QjZwUi8wZnl6UGFnUE9EOUQvckszQkRGUThYOWJzTXErQmJnTVhWVXVDd3pNT0ErZTROV1EzYTVPa2RZOUx4RnhtVnlsT1d6aGNZNkRTWUl6bi9sNlQxZnhsMjNCZEJETDQwV29LcVpORXE5Wi9UcHVqemhNcUpwUmNHV2l3d3dDeVRtdTdmN0l1U1RrQ2pkaCtkYk1LVVFrZUlqYTlRc3ZoR2tCeVNvK0NFL3hwUzlVUWk4VlE3VWhYMkJWSEF5akkwekFqT21NUkM4aElYUnY0K3BGa0xYUGx6QWVBPT08L2RzOlNpZ25hdHVyZVZhbHVlPgo8ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlEdFRDQ0FwMmdBd0lCQWdJSkFJUWU5QzVseWdaZU1BMEdDU3FHU0liM0RRRUJCUVVBTUVVeEN6QUpCZ05WQkFZVEFrRlZNUk13RVFZRFZRUUlFd3BUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLRXhoSmJuUmxjbTVsZENCWGFXUm5hWFJ6SUZCMGVTQk1kR1F3SGhjTk1UWXhNREl3TWpBMU5qQTRXaGNOTWpZeE1ESXdNakExTmpBNFdqQkZNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0JNS1UyOXRaUzFUZEdGMFpURWhNQjhHQTFVRUNoTVlTVzUwWlhKdVpYUWdWMmxrWjJsMGN5QlFkSGtnVEhSa01JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBM3Zzb3pRUzE0enZXd0sva2tPNmdYK24vUmRFbllxYnVYSzVleHJjN1ZWL3pMSUprR1dLaXo5dmxlWVM0NWptdjZnNXBQSitiZWdUczZmQzZCbVZCZno3SmErY2cwWU5WQUdnU2U1RVdmeVVuT3lkdlZRN1JLQXFTaVM5eHFwNGZwcUxpTkxIL1FSdGlaYWtkUTBTYkM2SjhTbWVXdHZEZEoyTEhHdXRhc3dsY24wSlRzbUNKSEo2ZjNLZTBiYWRtdXozanRhQnQyRTVlWG1xTkFoSEdGRUJvQy9Od2NNcFZFS2J0OEpiU3o1MTkxK3JiVGQ2cXpzV0xKR1h0V3ZNN2hJWVRmUmdpc041eHhYMUVhUTFmOHFyVlMrZzQwSmtmMkUwcXB3ajk3Y3NIZm9ab29qTjBzYTZocEZwZXNscGViZkRwS2FDWGthVHFCTElIVzVKcHl3SURBUUFCbzRHbk1JR2tNQjBHQTFVZERnUVdCQlNCbzRydEVaSjZlY25vcjhNbVdzck1QTSt5SmpCMUJnTlZIU01FYmpCc2dCU0JvNHJ0RVpKNmVjbm9yOE1tV3NyTVBNK3lKcUZKcEVjd1JURUxNQWtHQTFVRUJoTUNRVlV4RXpBUkJnTlZCQWdUQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvVEdFbHVkR1Z5Ym1WMElGZHBaR2RwZEhNZ1VIUjVJRXgwWklJSkFJUWU5QzVseWdaZU1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFRkJRQURnZ0VCQUdQN0tvR2FBYk8wUmJBQU5yWng3UmxnVVVVc2lrRmV1aUtWb25iZmhaMXpuajJTWFFILzhzcElHS3UvaUFkcXVXQ3lrSTQzR3FhSTJpYWplbzhWL1Z2ZjNJUEJBMEl6VEl3NkZMNTlBY01zZEJmSzV0Tmp1YnVodG1rMXJHejdaZnZnOGk3ZU5sQUZ3YXJvQWNSbFBHc3YvV3hQOXNHL3hONkFFS21SOGE5ZGdkblZJeVhjWnNIRkdFZjNNYm1sazNEM29PU2FjWjBTcXJ2elgxdXRJQnpvWkp4ZEFjODE1MWhGNVdEMzRhbXJndFg4TWs5eXlUYS82Z1F5TllvMUZUUVFwM2wyOG41YlFqMkxFbWJOY1pRMEoyZWo3SHY0d2tCUTdsbUlZS0szM1dPaW10MXg2R0drbE9KVHlvR2RTRHdSOFBIU1h5ZnV2RUowZ1pDQWNtRT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbHA6U3RhdHVzPjxzYW1scDpTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz48L3NhbWxwOlN0YXR1cz48c2FtbDpBc3NlcnRpb24geG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiBJRD0iXzAyOWVlMWEzZWUzODE0ODA3M2Y5YzZmOWM5ZTc0Y2NjNzg5NWQ3NzdhMCIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMTYtMTEtMTBUMjA6MDg6MzFaIj48c2FtbDpJc3N1ZXI+aHR0cDovL2lkcC5zYW1sLmxvY2FsaG9zdDo4MDgwL3NpbXBsZXNhbWwvc2FtbDIvaWRwL21ldGFkYXRhLnBocDwvc2FtbDpJc3N1ZXI+PGRzOlNpZ25hdHVyZSB4bWxuczpkcz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgPGRzOlNpZ25lZEluZm8+PGRzOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz4KICAgIDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjcnNhLXNoYTEiLz4KICA8ZHM6UmVmZXJlbmNlIFVSST0iI18wMjllZTFhM2VlMzgxNDgwNzNmOWM2ZjljOWU3NGNjYzc4OTVkNzc3YTAiPjxkczpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIvPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48L2RzOlRyYW5zZm9ybXM+PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PGRzOkRpZ2VzdFZhbHVlPnhwa2dlYTRiWTYwZzdtcjM1eFkwc0hpUnZxND08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWU+R2tBOE9yRm5BL1hrVExzWVVVYUZBN05uY1Y0dUFwVHhHMXpnVFFqNU1Na3lzY2M3b3Zqb2R6eGJXampyQnFyd3Njb2lRMkJiL1RjSkREcHgzdEk5aU9hNkhKZU1kMGhqOUtYcmJZZVBWZzZ3TkdkS3BhZmppSWVRYVpKallyaTd4TDF0ejFwNStlQ0ZIVnZMYlF6K0hFWHJBSy9yR1k3c25CWUI3d2RsOU1teFlXUzI2RnFPU0w0MFdmYkM2a3JVUkVqWEEvcGExamxYRFEwbmtFQkE5dHpCTVZOeDhPajc4MHVjUU5wV3M4eEhFSkRKQURqWUtQemVwMWMvTzNZWjM4UURjTS9wUEptZEYrdjFOYjhXS3RrNWZiTHZLWkcrZGQ1dWpHdkViQVFNMkZRTWt2c1lCQ1VEU2pBWEF4eHhQSDBId3FtK1NyNnZxZytXMUU4dVhBPT08L2RzOlNpZ25hdHVyZVZhbHVlPgo8ZHM6S2V5SW5mbz48ZHM6WDUwOURhdGE+PGRzOlg1MDlDZXJ0aWZpY2F0ZT5NSUlEdFRDQ0FwMmdBd0lCQWdJSkFJUWU5QzVseWdaZU1BMEdDU3FHU0liM0RRRUJCUVVBTUVVeEN6QUpCZ05WQkFZVEFrRlZNUk13RVFZRFZRUUlFd3BUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLRXhoSmJuUmxjbTVsZENCWGFXUm5hWFJ6SUZCMGVTQk1kR1F3SGhjTk1UWXhNREl3TWpBMU5qQTRXaGNOTWpZeE1ESXdNakExTmpBNFdqQkZNUXN3Q1FZRFZRUUdFd0pCVlRFVE1CRUdBMVVFQ0JNS1UyOXRaUzFUZEdGMFpURWhNQjhHQTFVRUNoTVlTVzUwWlhKdVpYUWdWMmxrWjJsMGN5QlFkSGtnVEhSa01JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBM3Zzb3pRUzE0enZXd0sva2tPNmdYK24vUmRFbllxYnVYSzVleHJjN1ZWL3pMSUprR1dLaXo5dmxlWVM0NWptdjZnNXBQSitiZWdUczZmQzZCbVZCZno3SmErY2cwWU5WQUdnU2U1RVdmeVVuT3lkdlZRN1JLQXFTaVM5eHFwNGZwcUxpTkxIL1FSdGlaYWtkUTBTYkM2SjhTbWVXdHZEZEoyTEhHdXRhc3dsY24wSlRzbUNKSEo2ZjNLZTBiYWRtdXozanRhQnQyRTVlWG1xTkFoSEdGRUJvQy9Od2NNcFZFS2J0OEpiU3o1MTkxK3JiVGQ2cXpzV0xKR1h0V3ZNN2hJWVRmUmdpc041eHhYMUVhUTFmOHFyVlMrZzQwSmtmMkUwcXB3ajk3Y3NIZm9ab29qTjBzYTZocEZwZXNscGViZkRwS2FDWGthVHFCTElIVzVKcHl3SURBUUFCbzRHbk1JR2tNQjBHQTFVZERnUVdCQlNCbzRydEVaSjZlY25vcjhNbVdzck1QTSt5SmpCMUJnTlZIU01FYmpCc2dCU0JvNHJ0RVpKNmVjbm9yOE1tV3NyTVBNK3lKcUZKcEVjd1JURUxNQWtHQTFVRUJoTUNRVlV4RXpBUkJnTlZCQWdUQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvVEdFbHVkR1Z5Ym1WMElGZHBaR2RwZEhNZ1VIUjVJRXgwWklJSkFJUWU5QzVseWdaZU1Bd0dBMVVkRXdRRk1BTUJBZjh3RFFZSktvWklodmNOQVFFRkJRQURnZ0VCQUdQN0tvR2FBYk8wUmJBQU5yWng3UmxnVVVVc2lrRmV1aUtWb25iZmhaMXpuajJTWFFILzhzcElHS3UvaUFkcXVXQ3lrSTQzR3FhSTJpYWplbzhWL1Z2ZjNJUEJBMEl6VEl3NkZMNTlBY01zZEJmSzV0Tmp1YnVodG1rMXJHejdaZnZnOGk3ZU5sQUZ3YXJvQWNSbFBHc3YvV3hQOXNHL3hONkFFS21SOGE5ZGdkblZJeVhjWnNIRkdFZjNNYm1sazNEM29PU2FjWjBTcXJ2elgxdXRJQnpvWkp4ZEFjODE1MWhGNVdEMzRhbXJndFg4TWs5eXlUYS82Z1F5TllvMUZUUVFwM2wyOG41YlFqMkxFbWJOY1pRMEoyZWo3SHY0d2tCUTdsbUlZS0szM1dPaW10MXg2R0drbE9KVHlvR2RTRHdSOFBIU1h5ZnV2RUowZ1pDQWNtRT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbDpTdWJqZWN0PjxzYW1sOk5hbWVJRCBTUE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9pZHByb3h5LnNhbWwubG9jYWxob3N0OjgwODAiIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6dHJhbnNpZW50Ij5fM2NlZDU1ODhhYThmMDgzNjE5MDkyNzUzOGMwZmMyNWI0ZDNmOTE2ODYzPC9zYW1sOk5hbWVJRD48c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uIE1ldGhvZD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmNtOmJlYXJlciI+PHNhbWw6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE2LTExLTEwVDIwOjEzOjMxWiIgUmVjaXBpZW50PSJodHRwOi8vaWRwcm94eS5zYW1sLmxvY2FsaG9zdDo4MDgwL3NpbXBsZXNhbWwvbW9kdWxlLnBocC9zYW1sL3NwL3NhbWwyLWFjcy5waHAvc2FtbC1wcm94eSIgSW5SZXNwb25zZVRvPSJfNzNmOWE1MjBhZTZiNzk2OTA1YzdjNmYyYjg0ZjI3YmNmOTg1ZGFjMmE0Ii8+PC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24+PC9zYW1sOlN1YmplY3Q+PHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTYtMTEtMTBUMjA6MDg6MDFaIiBOb3RPbk9yQWZ0ZXI9IjIwMTYtMTEtMTBUMjA6MTM6MzFaIj48c2FtbDpBdWRpZW5jZVJlc3RyaWN0aW9uPjxzYW1sOkF1ZGllbmNlPmh0dHA6Ly9pZHByb3h5LnNhbWwubG9jYWxob3N0OjgwODA8L3NhbWw6QXVkaWVuY2U+PC9zYW1sOkF1ZGllbmNlUmVzdHJpY3Rpb24+PC9zYW1sOkNvbmRpdGlvbnM+PHNhbWw6QXV0aG5TdGF0ZW1lbnQgQXV0aG5JbnN0YW50PSIyMDE2LTExLTEwVDIwOjA4OjMxWiIgU2Vzc2lvbk5vdE9uT3JBZnRlcj0iMjAxNi0xMS0xMVQwNDowODozMVoiIFNlc3Npb25JbmRleD0iXzg4MDU3MDE3YjY1Y2QxMWNhYTk2YTBjNTQ5NjM1YmQ3OTFmZGU5ZGU1YyI+PHNhbWw6QXV0aG5Db250ZXh0PjxzYW1sOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9zYW1sOkF1dGhuQ29udGV4dENsYXNzUmVmPjwvc2FtbDpBdXRobkNvbnRleHQ+PC9zYW1sOkF1dGhuU3RhdGVtZW50PjxzYW1sOkF0dHJpYnV0ZVN0YXRlbWVudD48c2FtbDpBdHRyaWJ1dGUgTmFtZT0idWlkIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj50ZXN0PC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PHNhbWw6QXR0cmlidXRlIE5hbWU9ImVkdVBlcnNvbkFmZmlsaWF0aW9uIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5tZW1iZXI8L3NhbWw6QXR0cmlidXRlVmFsdWU+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+c3R1ZGVudDwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjwvc2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+PC9zYW1sOkFzc2VydGlvbj48L3NhbWxwOlJlc3BvbnNlPg==

POST http://idproxy.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/saml-proxy
Origin: http://idp.saml.localhost:8080
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Content-Type: application/x-www-form-urlencoded
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Referer: http://idp.saml.localhost:8080/simplesaml/module.php/core/loginuserpass.php?
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=162c322ac2009657aa840c622002be51

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:31 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=162c322ac2009657aa840c622002be51; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Set-Cookie: SimpleSAMLAuthToken=_e78e56896cbafa274d6604d782c3985034c6dd4ef3; path=/; httponly
Content-Encoding: gzip
http://sp.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/default-sp
RelayState: http://sp.saml.localhost:8080/app/protected.php
SAMLResponse: PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIHhtbG5zOnNhbWw9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iIElEPSJfODVlZDU0Y2VlYTNhZTM2YzkxYTg5YjU0MzVjMDZmNmFmYjU5Mzc3MzNmIiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxNi0xMS0xMFQyMDowODozMVoiIERlc3RpbmF0aW9uPSJodHRwOi8vc3Auc2FtbC5sb2NhbGhvc3Q6ODA4MC9zaW1wbGVzYW1sL21vZHVsZS5waHAvc2FtbC9zcC9zYW1sMi1hY3MucGhwL2RlZmF1bHQtc3AiIEluUmVzcG9uc2VUbz0iXzdkNzIzYzAwNzEyOGIwM2UxNjQ4NzRiYTg2Njc1MzU2NmViMzk1YmNjMiI+PHNhbWw6SXNzdWVyPmh0dHA6Ly9pZHByb3h5LnNhbWwubG9jYWxob3N0OjgwODAvc2ltcGxlc2FtbC9zYW1sMi9pZHAvbWV0YWRhdGEucGhwPC9zYW1sOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4KICA8ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPgogICAgPGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPgogIDxkczpSZWZlcmVuY2UgVVJJPSIjXzg1ZWQ1NGNlZWEzYWUzNmM5MWE4OWI1NDM1YzA2ZjZhZmI1OTM3NzMzZiI+PGRzOlRyYW5zZm9ybXM+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiLz48ZHM6RGlnZXN0VmFsdWU+Z2RmZ1lka2NINDlUVityRlZxaGwzWUYvU2tNPTwvZHM6RGlnZXN0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZT5iU3N2RnBpbDgzN2RLZ1dseC9BWE9NNG5OeVhWTGcwMFZuekFTd2xXT1VZSTc0bUR4MmhXOE1JMEpNWUhLZW8zenlwQnZMS0F0eVVDeWF3aHVvdlNXZEZ2d0NZMVdVVWNtSmZmR2Q2dW1yVEVKajJGSUFMUjl1N3ZYYXZrZDJPSjRSdGRtWktvUU91Y21ocnRrU0RiRFBZUTU5U2JZNnl3Q0ZEQXpOK1ZkRVJTK0RDMisrRHVYTGVMTVdQcnoxUFlhTFcwRStWU3RqWmc2R0x1YzZPYmN0UWVCUDVpLzR2UFlFNkwrenNJaFVSa0dLdVo0S0xGQ1o5Z2RoNCtwYlJyK2xCOXBWN1VQVHpWdEtBbEVSdFRsNkxCOFZ4cFhEWVg1R3BBdmtoS2UyWThzVkkzdXcrbGd2UDRkM0pUSENzbW80bzNQL1pyRmFndWZQeWFsdHZIY2c9PTwvZHM6U2lnbmF0dXJlVmFsdWU+CjxkczpLZXlJbmZvPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSURYVENDQWtXZ0F3SUJBZ0lKQVB4Njg2TDY4NUZzTUEwR0NTcUdTSWIzRFFFQkJRVUFNRVV4Q3pBSkJnTlZCQVlUQWtGVk1STXdFUVlEVlFRSURBcFRiMjFsTFZOMFlYUmxNU0V3SHdZRFZRUUtEQmhKYm5SbGNtNWxkQ0JYYVdSbmFYUnpJRkIwZVNCTWRHUXdIaGNOTVRZeE1URXdNVGt6TlRJM1doY05Nall4TVRFd01Ua3pOVEkzV2pCRk1Rc3dDUVlEVlFRR0V3SkJWVEVUTUJFR0ExVUVDQXdLVTI5dFpTMVRkR0YwWlRFaE1COEdBMVVFQ2d3WVNXNTBaWEp1WlhRZ1YybGtaMmwwY3lCUWRIa2dUSFJrTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF3L00xRUgxRjdsMmY0ZHJ5YU1XV1FvNGpIbDlXampjL01HbU5SQ0thSmYwZFh0U3ZrK1k2UjNURENQUi9pYnVUSHIvc3hXZC9rdkJQOHBud3JFQTdJbGhycytwYSt6NkFKVm9KcCtYR2VQbXQ3UVRTeGRZeWcvdW1lOGYrV296Z1ExQVlaWWdDdjY0SDdtdTl6NFc3dmF5L0dzc3I5dFNDcWpDSFFrOWxPcWJHQ09GSTFhdmQvd01WbllIb2I3c2F3Lzg0bDh5bnQvWk5NVi94eWNnaDhSdGJnb2dUWGJqZFJlZE1UZ1lOZ1pvdmNrbDBsOHBsWjlxUmphOUtoalI0Q3ZZaFdiV0E5NkNGdytaTFZRSGRVVTQrT3FZSFpKTThQNWcvSmdmMHJESTErK2JWckJsaHl4TUxzMlZEWC9xbU9zUERBWHRzcEJyTWZQNW5vNmZKdVFJREFRQUJvMUF3VGpBZEJnTlZIUTRFRmdRVUJDcFc0ODQ2RVBMWDdGRStEdHl4MnQvNG80b3dId1lEVlIwakJCZ3dGb0FVQkNwVzQ4NDZFUExYN0ZFK0R0eXgydC80bzRvd0RBWURWUjBUQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFVRkFBT0NBUUVBaFNkSGc4NmtDTEZvQlZVNms2OWhvMGNBTE84ZGUyeWZjeWtMQkNLWUgwQjF2eThNNG1HMFRqeWpVNXlwRU5XR1orSERSZmtkOC9sald0dmRBQWYwTEZiZVZidzNBYnRJbTBVbHhPZ2ppS0cvSm43SjlKREtNdk1jSDliejY5NXI2WlhlOVlYZXM5bmREaEZCNkI3SmlEaHhDQUZUOVA2QkpBOVdLNEJheGU1RDZiK0pLK1JSY2F6eXY4UXorZ2gyUXlmeFZRR0hBWTd5UVdmK0QrYjhnM3o5NlEwWFJSUHBlQ1N2ckVCMEx5V3ZnSW9ZWkE1SS84OHBQTFlYTFZ2M3dSRDRoNWdBZVNSOHZXUlFlTDRJZlhoY0JjcEUrSldGWjFkaGhVbUpzUHI4cFZmUzEzb1RrZFRqakdjQjAzZ1lZYXNuOWprVFpTTysvM0owOGtDVHFnPT08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbHA6U3RhdHVzPjxzYW1scDpTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz48L3NhbWxwOlN0YXR1cz48c2FtbDpBc3NlcnRpb24geG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiBJRD0iX2E4MTYxZWQ1YzE3YjA3M2M2MTI2NTI3OTgyNTk1NGRhMWM4OTVhODNiYSIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMTYtMTEtMTBUMjA6MDg6MzFaIj48c2FtbDpJc3N1ZXI+aHR0cDovL2lkcHJveHkuc2FtbC5sb2NhbGhvc3Q6ODA4MC9zaW1wbGVzYW1sL3NhbWwyL2lkcC9tZXRhZGF0YS5waHA8L3NhbWw6SXNzdWVyPjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPgogIDxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+CiAgICA8ZHM6U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIi8+CiAgPGRzOlJlZmVyZW5jZSBVUkk9IiNfYTgxNjFlZDVjMTdiMDczYzYxMjY1Mjc5ODI1OTU0ZGExYzg5NWE4M2JhIj48ZHM6VHJhbnNmb3Jtcz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PC9kczpUcmFuc2Zvcm1zPjxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjc2hhMSIvPjxkczpEaWdlc3RWYWx1ZT5IV0tiSVJ5M295VFF1SDdGSUZSTTFodnJKTFU9PC9kczpEaWdlc3RWYWx1ZT48L2RzOlJlZmVyZW5jZT48L2RzOlNpZ25lZEluZm8+PGRzOlNpZ25hdHVyZVZhbHVlPnJGV0s5ZmhJYWhIS1B6T2w5dmhjOUs3SVJMbm1LMXQ5eGVZd0tISzJmWTlrOGpMR0hCZWI3VzVkMFhCMlBoL1ByVXJSWUpvK0hiYkpmWTRTMGwvSU9LTnloMElYMjNYSVJCQ2ZBeTVrOFlVMXdtczMzdithdDR2RXlkanhnU1NVYmRNM2R6aUpBYmJ1OEV1VHFxS2oxaFpiaytwdDlXMzIycXNwRm8zRWh0ZmxPVUp3dXQraUlCeDljVnFPaWdxNDZUK3lId2FZNFdxdzBTNHNPR2lBbTlST3A2dERGUE8vYlRYKzRDZ0Q5aEdJNE82Z1U0c000MzJKQlJQSlVmVWI5UFZQNC9oQ3ovRlkvTHUvbmlQdXYxUTlZNzFLUDdrVUs1c3pXeXFRTlg5ajRFVVdac3IybnlQN1JGU1BZNElhSklNTURoallOUFdPMkxTRGhxOSsyQT09PC9kczpTaWduYXR1cmVWYWx1ZT4KPGRzOktleUluZm8+PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU+TUlJRFhUQ0NBa1dnQXdJQkFnSUpBUHg2ODZMNjg1RnNNQTBHQ1NxR1NJYjNEUUVCQlFVQU1FVXhDekFKQmdOVkJBWVRBa0ZWTVJNd0VRWURWUVFJREFwVGIyMWxMVk4wWVhSbE1TRXdId1lEVlFRS0RCaEpiblJsY201bGRDQlhhV1JuYVhSeklGQjBlU0JNZEdRd0hoY05NVFl4TVRFd01Ua3pOVEkzV2hjTk1qWXhNVEV3TVRrek5USTNXakJGTVFzd0NRWURWUVFHRXdKQlZURVRNQkVHQTFVRUNBd0tVMjl0WlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXcvTTFFSDFGN2wyZjRkcnlhTVdXUW80akhsOVdqamMvTUdtTlJDS2FKZjBkWHRTdmsrWTZSM1REQ1BSL2lidVRIci9zeFdkL2t2QlA4cG53ckVBN0lsaHJzK3BhK3o2QUpWb0pwK1hHZVBtdDdRVFN4ZFl5Zy91bWU4ZitXb3pnUTFBWVpZZ0N2NjRIN211OXo0Vzd2YXkvR3Nzcjl0U0NxakNIUWs5bE9xYkdDT0ZJMWF2ZC93TVZuWUhvYjdzYXcvODRsOHludC9aTk1WL3h5Y2doOFJ0YmdvZ1RYYmpkUmVkTVRnWU5nWm92Y2tsMGw4cGxaOXFSamE5S2hqUjRDdlloV2JXQTk2Q0Z3K1pMVlFIZFVVNCtPcVlIWkpNOFA1Zy9KZ2YwckRJMSsrYlZyQmxoeXhNTHMyVkRYL3FtT3NQREFYdHNwQnJNZlA1bm82Zkp1UUlEQVFBQm8xQXdUakFkQmdOVkhRNEVGZ1FVQkNwVzQ4NDZFUExYN0ZFK0R0eXgydC80bzRvd0h3WURWUjBqQkJnd0ZvQVVCQ3BXNDg0NkVQTFg3RkUrRHR5eDJ0LzRvNG93REFZRFZSMFRCQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUVVGQUFPQ0FRRUFoU2RIZzg2a0NMRm9CVlU2azY5aG8wY0FMTzhkZTJ5ZmN5a0xCQ0tZSDBCMXZ5OE00bUcwVGp5alU1eXBFTldHWitIRFJma2Q4L2xqV3R2ZEFBZjBMRmJlVmJ3M0FidEltMFVseE9namlLRy9KbjdKOUpES012TWNIOWJ6Njk1cjZaWGU5WVhlczluZERoRkI2QjdKaURoeENBRlQ5UDZCSkE5V0s0QmF4ZTVENmIrSksrUlJjYXp5djhReitnaDJReWZ4VlFHSEFZN3lRV2YrRCtiOGczejk2UTBYUlJQcGVDU3ZyRUIwTHlXdmdJb1laQTVJLzg4cFBMWVhMVnYzd1JENGg1Z0FlU1I4dldSUWVMNElmWGhjQmNwRStKV0ZaMWRoaFVtSnNQcjhwVmZTMTNvVGtkVGpqR2NCMDNnWVlhc245amtUWlNPKy8zSjA4a0NUcWc9PTwvZHM6WDUwOUNlcnRpZmljYXRlPjwvZHM6WDUwOURhdGE+PC9kczpLZXlJbmZvPjwvZHM6U2lnbmF0dXJlPjxzYW1sOlN1YmplY3Q+PHNhbWw6TmFtZUlEIFNQTmFtZVF1YWxpZmllcj0iaHR0cDovL3NwLnNhbWwubG9jYWxob3N0OjgwODAiIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6dHJhbnNpZW50Ij5fNmM1MTY3NzY2NjkwYzEyN2JkOGI5YTQwZTc3NGFmZjA5MGM5ZGI3NTI5PC9zYW1sOk5hbWVJRD48c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uIE1ldGhvZD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmNtOmJlYXJlciI+PHNhbWw6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE2LTExLTEwVDIwOjEzOjMxWiIgUmVjaXBpZW50PSJodHRwOi8vc3Auc2FtbC5sb2NhbGhvc3Q6ODA4MC9zaW1wbGVzYW1sL21vZHVsZS5waHAvc2FtbC9zcC9zYW1sMi1hY3MucGhwL2RlZmF1bHQtc3AiIEluUmVzcG9uc2VUbz0iXzdkNzIzYzAwNzEyOGIwM2UxNjQ4NzRiYTg2Njc1MzU2NmViMzk1YmNjMiIvPjwvc2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uPjwvc2FtbDpTdWJqZWN0PjxzYW1sOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE2LTExLTEwVDIwOjA4OjAxWiIgTm90T25PckFmdGVyPSIyMDE2LTExLTEwVDIwOjEzOjMxWiI+PHNhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj48c2FtbDpBdWRpZW5jZT5odHRwOi8vc3Auc2FtbC5sb2NhbGhvc3Q6ODA4MDwvc2FtbDpBdWRpZW5jZT48L3NhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj48L3NhbWw6Q29uZGl0aW9ucz48c2FtbDpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTYtMTEtMTBUMjA6MDg6MzFaIiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE2LTExLTExVDA0OjA4OjMxWiIgU2Vzc2lvbkluZGV4PSJfYTA5NjI5ZTE0NGE2YmYzOTNjMDhjZTEwM2NiMTM4NTg2YTlkNGE0Yjg0Ij48c2FtbDpBdXRobkNvbnRleHQ+PHNhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+dXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFjOmNsYXNzZXM6UGFzc3dvcmQ8L3NhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PHNhbWw6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+aHR0cDovL2lkcC5zYW1sLmxvY2FsaG9zdDo4MDgwL3NpbXBsZXNhbWwvc2FtbDIvaWRwL21ldGFkYXRhLnBocDwvc2FtbDpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT48L3NhbWw6QXV0aG5Db250ZXh0Pjwvc2FtbDpBdXRoblN0YXRlbWVudD48c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+PHNhbWw6QXR0cmlidXRlIE5hbWU9InVpZCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dGVzdDwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjxzYW1sOkF0dHJpYnV0ZSBOYW1lPSJlZHVQZXJzb25BZmZpbGlhdGlvbiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+bWVtYmVyPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPnN0dWRlbnQ8L3NhbWw6QXR0cmlidXRlVmFsdWU+PC9zYW1sOkF0dHJpYnV0ZT48L3NhbWw6QXR0cmlidXRlU3RhdGVtZW50Pjwvc2FtbDpBc3NlcnRpb24+PC9zYW1scDpSZXNwb25zZT4=

POST http://sp.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/default-sp
Origin: http://idproxy.saml.localhost:8080
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Content-Type: application/x-www-form-urlencoded
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Referer: http://idproxy.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/saml-proxy
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=82c48a078615622c8946d22b2a5e8189

HTTP/1.1 303 See Other
 Redirect to: http://sp.saml.localhost:8080/app/protected.php
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:31 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=82c48a078615622c8946d22b2a5e8189; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Set-Cookie: SimpleSAMLAuthToken=_111cc762aa733d6d1e15ef59ca8f875185f961e479; path=/; httponly
Location: http://sp.saml.localhost:8080/app/protected.php
Pragma: no-cache
Cache-Control: no-cache, must-revalidate

GET http://sp.saml.localhost:8080/app/protected.php
X-DevTools-Emulate-Network-Conditions-Client-Id: 3dcdf86a-c604-4bc9-a132-47abea92fc55
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.71 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Referer: http://idproxy.saml.localhost:8080/simplesaml/module.php/saml/sp/saml2-acs.php/saml-proxy
Accept-Encoding: gzip, deflate, sdch, br
Accept-Language: en-US,en;q=0.8
Cookie: PHPSESSID=82c48a078615622c8946d22b2a5e8189; SimpleSAMLAuthToken=_111cc762aa733d6d1e15ef59ca8f875185f961e479

HTTP/1.1 200 OK
Server: nginx/1.1.19
Date: Thu, 10 Nov 2016 20:08:31 GMT
Content-Type: text/html
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: PHPSESSID=82c48a078615622c8946d22b2a5e8189; path=/; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Content-Encoding: gzip
```
